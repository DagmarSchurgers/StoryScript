<div class="box-container" id="encounters" ng-if="personsPresent() && !enemiesPresent()">
    <div class="box-title">{{ texts.encounters }}</div>
    <ul class="list-unstyled">
        <li *ngFor="let person of game.currentLocation.activePersons" (click)="tryCombine(person)" ng-class="getCombineClass(person)">
            <span>{{ person.name }}</span>
            <div class="inline" ng-class="getCombineClass()">
                <button type="button" class="btn btn-info talk" ng-if="person.conversation" (click)="talk(person)">{{ texts.format(texts.talk, [person.name]) }}</button>
                <button type="button" class="btn btn-info trade" ng-if="person.trade" (click)="trade(person)">{{ texts.format(texts.trade, [person.name]) }}</button>
                <button type="button" class="btn btn-danger" ng-if="person.canAttack === undefined || person.canAttack === true" (click)="startCombat(person)">{{ texts.format(texts.attack, [person.name]) }}</button>
            </div>
            <img src="{{ person.picture }}" ng-if="person.picture" />
        </li>
    </ul>
</div>