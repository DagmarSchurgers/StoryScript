<div ng-if="$ctrl.game.stateString == 'Conversation'" class="conversation">
    <div ng-show="$ctrl.conversation.activeNode">
        <div ng-bind-html="$ctrl.getLines($ctrl.conversation.activeNode)"></div>
        <div ng-repeat="reply in $ctrl.conversation.activeNode.replies.options">
            <div ng-hide="!reply.available && !reply.showWhenUnavailable">
                <input type="radio" ng-disabled="!reply.available" ng-click="$ctrl.answer($ctrl.conversation.activeNode, reply)" /><span ng-bind-html="$ctrl.getLines(reply)"></span>
            </div>
        </div>
    </div>
    <div ng-hide="$ctrl.conversation.activeNode">
        Your conversation has ended.
    </div>
    <hr />
    <h4>Conversation history</h4>
    <ul>
        <li ng-repeat="entry in $ctrl.conversation.conversationLog track by $index">
            <div ng-bind-html="entry.lines"></div>
            <div ng-bind-html="entry.reply"></div>
        </li>
    </ul>
    <action-log></action-log>
</div>