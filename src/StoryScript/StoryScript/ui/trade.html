<div ng-if="game.currentLocation.activeTrade">
    <div ng-if="game.currentLocation.activeTrade.sell">{{ game.currentLocation.activeTrade.sell.description }}</div>
    <div ng-hide="game.currentLocation.activeTrade.sell.items && game.currentLocation.activeTrade.sell.items.length > 0">{{ game.currentLocation.activeTrade.sell.emptyText }}</div>
    <ul class="button-row" ng-show="game.currentLocation.activeTrade.sell.items && game.currentLocation.activeTrade.sell.items.length > 0">
        <li ng-repeat="item in game.currentLocation.activeTrade.sell.items">
            <button type="button" class="btn btn-success" ng-click="controller.buy(item, game.currentLocation.activeTrade)" ng-disabled="!controller.canPay(game.character.currency, controller.actualPrice(item, game.currentLocation.activeTrade.sell.priceModifier))">{{ controller.displayPrice(item, game.currentLocation.activeTrade.sell.priceModifier) }}</button>
        </li>
    </ul>
    <div ng-if="game.currentLocation.activeTrade.buy">{{ game.currentLocation.activeTrade.buy.description }}</div>
    <div ng-hide="game.currentLocation.activeTrade.buy.items && game.currentLocation.activeTrade.buy.items.length > 0">{{ game.currentLocation.activeTrade.buy.emptyText }}</div>
    <ul class="button-row" ng-show="game.currentLocation.activeTrade.buy.items && game.currentLocation.activeTrade.buy.items.length > 0">
        <li ng-repeat="item in game.currentLocation.activeTrade.buy.items">
            <button type="button" class="btn btn-warning" ng-click="controller.sell(item, game.currentLocation.activeTrade)" ng-disabled="!controller.canPay(game.currentLocation.activeTrade.currency, controller.actualPrice(item, game.currentLocation.activeTrade.sell.priceModifier))">{{ controller.displayPrice(item, game.currentLocation.activeTrade.buy.priceModifier) }}</button>
        </li>
    </ul>
    <p ng-if="game.currentLocation.activeTrade.currency != undefined">{{ texts.format(texts.traderCurrency, [game.currentLocation.activeTrade.currency, texts.currency]) }}</p>
    <div class="actionlog" ng-include="'/ui/action-log.html'"></div>
</div>