<div ng-controller="ConversationController as conversation" ng-init="init()">
    <div ng-show="game.currentLocation.activePerson.conversation.activeNode">
        <div ng-bind-html="game.currentLocation.activePerson.conversation.activeNode.lines"></div>
        <div ng-repeat="reply in game.currentLocation.activePerson.conversation.activeNode.replies" >
            <input type="radio" ng-disabled="!reply.available" ng-hide="!reply.available && !reply.showWhenUnavailable" ng-click="conversation.answer(game.currentLocation.activePerson.conversation.activeNode, reply)" /><span ng-bind-html="reply.lines"></span>
        </div>
    </div>
    <div ng-hide="game.currentLocation.activePerson.conversation.activeNode">
        Your conversation has ended.
    </div>
    <hr />
    <h4>Conversation history</h4>
    <ul>
        <li ng-repeat="entry in game.currentLocation.activePerson.conversation.conversationLog">
            <div ng-bind-html="entry.lines"></div>
            <div ng-bind-html="entry.reply"></div>
        </li>
    </ul>
    <div class="actionlog" ng-include="'ui/action-log.html'"></div>
</div>